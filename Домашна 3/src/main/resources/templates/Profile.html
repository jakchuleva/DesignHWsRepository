<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Retrieve the email from the cookie
            var userEmail = getCookie("userEmail");

            // Display the email in the paragraph
            document.getElementById('mail').innerText = userEmail;
        });

        // Function to retrieve a cookie value by name
        function getCookie(name) {
            var match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
            if (match) return match[2];
        }

        function redirectToSearch() {
            window.location.href = '/search';
        }
    </script>
</head>
<style>
    body {
        font-family: Arial;
        margin: 0; /* Reset margin to ensure full width/height of the body */
    }
    #flex {
        position: fixed;
        bottom: 0;
        right: 0;
        left: 0;
        top: 0;
        display: flex;
        width: 100%;
        height: 100%;
        z-index: 1; /* Set a lower z-index */
    }
    #flex > div {
        padding: 40px;
    }
    img {
        width: 100%;
    }
    #img {
        margin: auto;
        width: 60%;
    }
    #head {
        margin: auto;
        width: 40%;
        border-radius: 50%;
        overflow: hidden;
    }
    #head img {
        width: 100%;
        height: auto;
        border-radius: 50%;
        display: block;
    }
    #head-flex {
        justify-self: center;
        width: 50%;
    }
    h1 {
        margin: auto;
        font-size: 2em;
        padding-bottom: 3rem;
    }
    h2 {
        font-weight: normal;
        font-size: 150%;
    }
    button {
        background-color: #eeb05a;
        color: #fff;
        font-size: 20px;
        padding-left: 50px;
        padding-right: 50px;
        padding-top: 10px;
        padding-bottom: 10px;
    }
    #butt {
        width: 70%;
        padding-left: 10%;
        margin: auto;
        display: flex;
        text-align: center;
    }
    .color {
        background-color: #eeb05a;
    }
    #email {
        margin-left: 0;
        width: 10%;
        height: 6%;
    }
    #mail {
        margin: auto;
        margin-left: 1%;
        text-align: center;
    }
    #ema {
        font-weight: bold;
        width: 70%;
        padding-left: 10%;
        padding-top: 5%;
        margin: auto;
        display: flex;
        text-align: center;
    }
    #profile-container {
        position: relative;
        z-index: 2; /* Set a higher z-index */
    }
    #profile {
        position: absolute;
        top: 20px; /* Adjust the top value as needed */
        right: 20px; /* Adjust the right value as needed */
    }
    #profile {
        position: fixed;
        top: 20px; /* Adjust the top value as needed */
        right: 20px; /* Adjust the right value as needed */
        display: flex;
        align-items: center;
    }

    #profile button {
        margin-left: 10px;
        background-color: #eeb05a;
        color: #fff;
        font-size: 14px;
        padding: 5px 10px;
        border: none;
        cursor: pointer;
    }
</style>
<body>

<div id="flex">
    <div id="head-flex">
        <div id="text">
            <h1>Your Profile</h1>
        </div>
        <div id="head">
            <img src="default.png" class="color">
        </div>
        <div id="ema">
            <p id="em">Email</p>
        </div>
        <div id="butt">
            <img id="email" src="download.png" class="color">
            <p id="mail"></p>  <!-- This paragraph will now display the user's email -->
        </div>
    </div>
    <div id="img">
        <img src="mapa2.jpg">
    </div>
    <div id="profile" class="d-flex justify-content-center">
        <button type="button" class="btn btn-warning btn-block mb-0 w-100" onclick="redirectToSearch()">
            Search
        </button>
        <button type="submit"><a th:href="@{'/login'}" style="text-decoration: none">Log out</a></button>
        <button type="submit"><a th:href="@{'/help'}" style="text-decoration: none">Help</a></button>
    </div>
</div>
<div >

</div>
</body>
</html>